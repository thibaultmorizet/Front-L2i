<div class="general-content">
  <header>
    <div id="top">
      <nav class="navbar">
        <div class="container">
          <a class="navbar-brand pointer" [routerLink]="['/home']"
            ><img
              src="https://www.thibaultmorizet.fr/assets/logo-l2i.png"
              alt="logo-l2i"
              width="50"
          /></a>
          <a class="home-link text-uppercase" [routerLink]="['/home']">Home</a>
          <a class="home-link text-uppercase" [routerLink]="['/books']">Shop</a>

          <a class="home-link text-uppercase" [routerLink]="['/user']"
            >My Account</a
          >

          <div id="bag-shopping-count-container">
            <a
              [routerLink]="['/basket']"
              class="home-link text-uppercase active"
            >
              <span id="bag-shopping-count" aria-hidden="true">{{
                basket.length
              }}</span>
              My Basket</a
            >
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main id="content">
    <div class="container">
      <div class="row">
        <h1>Mon Panier</h1>
        <table class="mb-5">
          <thead>
            <th></th>
            <th>Produit</th>
            <th>Prix</th>
            <th>Quantité</th>
            <th>Total</th>
            <th></th>
          </thead>
          <tbody *ngFor="let elt of basket">
            <td>
              <a [routerLink]="['/books/', elt.id]">
                <img src="{{ elt.image }}" alt="" class="img-icon"
              /></a>
            </td>
            <td>
              <a [routerLink]="['/books/', elt.id]"> {{ elt.title }}</a>
            </td>
            <td>
              {{ elt.unitprice }}
            </td>
            <td>
              <span class="d-flex align-items-center">
                <button
                  (click)="decreaseBookQuantity(elt.id)"
                  type="button"
                  aria-label="Diminuer"
                  class="page-link modify-quantity-button"
                >
                  <span aria-hidden="true"><</span>
                </button>
                <span class="mx-2">
                  {{ elt.number_ordered }}
                </span>
                <button
                  (click)="increaseBookQuantity(elt.id)"
                  type="button"
                  aria-label="Augmenter"
                  class="page-link modify-quantity-button"
                >
                  <span aria-hidden="true">></span>
                </button></span
              >
            </td>
            <td>{{ elt.totalprice }}</td>
            <td>
              <button
                class="btn btn-danger border-0 border-radius-5px"
                (click)="deleteBookOfBasket(elt.id)"
              >
                <span
                  data-toggle="tooltip"
                  data-placement="top"
                  data-boundary="window"
                  title="Supprimer"
                >
                  <i class="fa fa-times-circle"></i
                ></span>
              </button>
            </td>
          </tbody>
        </table>

        <div class="d-flex justify-content-end px-5 mb-3">
          <div>Total général : {{ basketTotalPrice }}</div>
        </div>
        <div class="d-flex justify-content-end px-5">
          <button class="btn btn-success border-0 border-radius-5px">
            Valider la commande
          </button>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <nav class="navbar">
      <ul>
        <li>Contact</li>
        <li>Mentions Légales</li>
        <li>Conditions générales de ventes</li>
      </ul>
    </nav>
  </footer>
</div>
